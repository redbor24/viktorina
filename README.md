# Учебный проект [devman](dvmn.org) "Проводим викторину"

## Описание
В этом учебном проекте создаются Телеграм- и ВК-чатботы, организующие для пользователя викторину. 

### Пример диалога с ТГ-ботом
![Пример диалога с ТГ-ботом](TGBot dialog example.gif)

## Установка
### Установите [Python3](python.org)

### Создайте чат-бота в Телеграм
Откройте диалог с [BotFather](https://t.me/BotFather) в Телеграм. Выполните команду `/newbot` и следуйте инструкции. 
Вам нужен `TG_TOKEN` нового бота.

### Создайте [группу](https://vk.com/groups?tab=admin) в ВК
Создайте ключ доступа: *Настройки - Работа с API - Ключи доступа* - кнопка **Создать ключ**.
Там же включите **Long Poll API** и дайте нужные права в *Настройки - Работа с API - LongPoll API - Типы событий*.

### Redis
Для хранения данных пользователя во время игры боты используют хранилище `Redis`. 
Можно использовать `RedisLab` или установить локальный сервер `redis` 
([вариант для Windows](https://github.com/zkteco-home/redis-windows.git)) 
`redis`. Для подключения к хранилищу `redis` ботам потребуется имя точки входа и пароль.

### Установите зависимости
```shell
pip install -r requirements.txt
```

### Задайте переменные окружения
Создайте файл `.env` со следующим содержимым:
```
TG_TOKEN=<ваш Телеграм-токен>
VK_TOKEN=<токен ВКонтакте>
REDIS_LINK=<имя точки входа redis>
REDIS_PORT=<порт для подклчения к redis>
REDIS_PASSWORD=<пароль для подклчения к redis>
```

## Использование
### Запуск Телеграм-бота
```shell
python tgbot.py
```

### Запуск ВК-бота
```shell
python VKbot.py
```

### Старт игры
#### В Телеграм
Отправьте боты команду
```
/start
```
#### В ВК
Отправьте боты команду
```
!игра
```

### Тестовые боты
Оба бота ([Телеграм](https://t.me/rdbQuiz_bot) и [ВК](https://vk.com/im?media=&sel=-216593240)) 
сейчас доступны для ознакомления.
